<!DOCTYPE html>
<html>

<head>
    <title><%= title %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="./images/flower-icon.png" />
    <link rel="stylesheet" type="text/css" href="./vendor/normalize.css">
    <link rel="stylesheet" type="text/css" href="./styles/main.css">
    <link rel="stylesheet" type="text/css" href="./scripts/main.js">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>


<body class="content">

    <%- include(`partials/header`); %>
    <main class="main">

        <section class="section secondary-color-bg">
            <div class="container">
                <div class="centered-container">
                    <h1 class="decorated-title font-secondary main-color">
                        <span class="main-color-emphasized">Promotional </span> offers
                    </h1>
                </div>

                <div class="separator"></div>
                <form method="post" class="form gutter">
                    <fieldset class="form-fieldset">
                        <legend class="form-legend">Enter a promotional code</legend>

                        <div class="form-group">

                            <% const promoOptions = ["Delivery", "Total Price"]%>
                            <label class="form-label" for="promotype">Promotion type:</label>
                            <select class="form-component" id="promotype" name="promotype">
                                <%for (const opt of promoOptions) { %>
                                <option <% if (promo && promo[1] === opt) {%> selected <% } %>>
                                    <%= opt%>
                                </option>
                                <%}%>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="promocode">Promotion code:</label>
                            <% if (promo !== undefined) { %>
                                <input class="form-component form-input" type="text" name="promocode" id="promocode"
                                    maxlength="20" minlength="2" value="<%= promo[0] %>">
                            <% } else { %>
                                <input class="form-component form-input" type="text" name="promocode" id="promocode"
                                    maxlength="20" minlength="2" value="">
                            <% } %>
                        </div>

                        <input class="btn" type="submit" formaction="/promotional/save" value="Save and return to cart">
                        <input class="btn" type="submit" formaction="/promotional/reset" value="Reset">
                        <input class="btn push-right" type="submit" formaction="/checkout" value="Order now!">

                    </fieldset>
                </form>
            </div>
        </section>
    </main> <%- include(`partials/footer`); %> </body>

</html>